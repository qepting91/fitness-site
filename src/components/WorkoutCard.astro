---
interface Props {
  title: string;
  subtitle?: string;
  href: string;
  badge?: string;
  badgeColor?: 'violet' | 'emerald' | 'amber' | 'sky';
  exerciseCount?: number;
}

const { title, subtitle, href, badge, badgeColor = 'violet', exerciseCount } = Astro.props;

const badgeColors = {
  violet: 'bg-violet-500/20 text-violet-400 border-violet-500/30',
  emerald: 'bg-emerald-500/20 text-emerald-400 border-emerald-500/30',
  amber: 'bg-amber-500/20 text-amber-400 border-amber-500/30',
  sky: 'bg-sky-500/20 text-sky-400 border-sky-500/30',
};
---

<a href={href} class="card-interactive block p-4">
  <div class="flex items-start justify-between gap-3">
    <div class="flex-1 min-w-0">
      <div class="flex items-center gap-2 mb-1">
        {badge && (
          <span class={`badge border ${badgeColors[badgeColor]}`}>{badge}</span>
        )}
        <h3 class="font-semibold text-slate-100 truncate">{title}</h3>
      </div>
      {subtitle && (
        <p class="text-sm text-slate-400 line-clamp-2">{subtitle}</p>
      )}
      {exerciseCount !== undefined && (
        <p class="text-xs text-slate-500 mt-2">{exerciseCount} exercises</p>
      )}
    </div>
    <svg class="w-5 h-5 text-slate-500 flex-shrink-0 mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
    </svg>
  </div>
</a>
